@using static Final_Project.Controllers.ProfileController
@model CustomIdentityUser
@{
    ViewData["Title"] = "Index";
    Layout = "_UserLayout";
}
<head>
    <link rel="stylesheet" href="~/css/Profile.css" />
    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css'>
    <script src='https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
</head>
<div class="row py-5 px-4">
    <div class="col-md-12 mx-auto">
        <!-- Profile widget -->
        <div class="bg-white shadow rounded overflow-hidden">
            <div class="px-4 pt-0 pb-4 cover">
                <div class="media align-items-end profile-head">
                    <div class="profile mr-3"><img src="@Model.img" alt="..." width="130" class="rounded mb-2 img-thumbnail"><a asp-action="Edit" class="btn btn-outline-dark btn-sm btn-block">Edit profile</a></div>
                    <div class="media-body mb-5 text-white">
                        <h4 class="mt-0 mb-0">@Model.FirstName @Model.LastName </h4>
                        <p class="small mb-4"> <i class="fas fa-map-marker-alt mr-2"></i>@Model.Address</p>
                    </div>
                </div>
            </div>
            <div class="bg-light p-4 d-flex justify-content-end text-center">
 
            </div>
            <div class="px-4 py-3">
                <h5 class="mb-0">About</h5>
                <div class="p-4 rounded shadow-sm bg-light">
                    <p class="font-italic mb-0">@Model.Email</p>
                    <p class="font-italic mb-0">@Model.Phone</p>
                    <p class="font-italic mb-0">@Model.City</p>
                </div>
            </div>
            <div class="py-4 px-4">
                <div class="d-flex align-items-center justify-content-between mb-3">
                    <h5 class="mb-0">My Order</h5>
                </div>
                <div class="row">
                    @foreach (var item in @ViewBag.allOrder)
                    {
                    <div class="col-6">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Order Date:@item.OrderDate</h4>
                                <p>Cost:@item.Cost</p>
                                        @foreach (var proudect in item.Items)
                                        {
                                            <img src="@proudect.Product.Image" style="height:60px;width:60px" alt="Product Image">
                                            <p>Proudect:@proudect.Product.Name</p>
                                            <p>Quantity:@proudect.Quantity</p>
                                        }
                                </div>
                            </div>
                    </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
